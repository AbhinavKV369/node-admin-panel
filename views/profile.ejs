<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Profile Page</title>
  <%- include("partials/head") %>
</head>

<body style="background: rgb(20, 19, 19);">
  <div class="container-fluid">
    <%- include("partials/nav") %>
  </div>
  <div class="container-fluid d-flex justify-content-center align-items-center px-4 py-4 mt-5"
    style="background: rgb(20, 19, 19);">
    <div class="card px-5 bg-black" style="max-width: 600px; width: 100%;">
      <h2 class="text-center text-white mb-2 mt-3">Your Profile Info</h2>

      <form action="/profile" method="POST" enctype="multipart/form-data">
        <div class="form-group">
          <label for="name" class="text-white">Name:</label>
          <input type="text" name="name" value="<%= user.name %>" class="form-control" required>
        </div>

        <div class="form-group">
          <label for="bio" class="text-white">Bio:</label>
          <textarea name="bio" class="form-control"><%- user.bio %></textarea>
        </div>

        <div class="form-group pt-2">
          <label for="picture" class="text-white">Profile Picture:</label>
          <input type="file" name="picture" class="form-control-file">
        </div>
        <button type="submit" class="btn btn-success btn-block mt-3">Update Profile</button>
      </form>

      <div class="profile-info text-center">
        <img src="<%= user.picture ? user.picture : '/images/default.png' %>" class="img-fluid rounded-circle"
          style="width: 150px; height: 150px;" alt="Profile Picture">
        <p class="text-white"><strong>Username:</strong>
          <%= user.name %>
        </p>
        <p class="text-white"><strong>Email:</strong>
          <%= user.email %>
        </p>
        <p class="text-white"><strong>Bio:</strong>
          <%= user.bio %>
        </p>
        <% if (typeof successMessage !== "undefined" && successMessage) { %>
          <p class="text-success">
            <%= successMessage %>
          </p>
          <% } %>
      </div>
    </div>
  </div>

  <%- include("partials/script") %>
</body>

</html>

</html>